program
  command_set
    SET
    VARIABLE1
    =
    %~dp0
  statement_if
    IF
    test_comp
      "%VARIABLE1:~-1%"
      ==
      "\"
    command_set
      SET
      VARIABLE1
      =
      %VARIABLE1:~0,-1%
  emptyline	
  statement_if
    IF
    test_comp
      "%FLG%"
      ==
      "1"
    group
      (
      subprogram
        command_set
          SET
          USB_REMDIR
          =
          %SHARE_DIR_ROOT%\path\to\dir
      )
    statement_else
      else
      group
        (
        subprogram
          command_rem
            REM
            noop
        )
  emptyline	
  statement_if
    IF
    test_not_exist
      NOT
      EXIST
      c:\path\to\my.exe
    command_set
      set
      flag
      =
      true
  statement_if
    if
    test_not_exist
      not
      exist
      "d:\path\to\Program Files\my.exe"
    command_set
      set
      flag
      =
      true
  emptyline	
  command_call_file
    call
    %BIN_PATH%\MyProcess.cmd
  command_call_file
    call
    %BIN_PATH%\MyProcess2.cmd
    %_MyVariable% 1234
  emptyline	
  statement_for_f
    FOR
    /F
    "delims= "
    for_parameter
      %%
      i
    IN
    (
    for_range_command	'DATE /T'
    )
    DO
    command_set
      SET
      YMD
      =
      %%i
  statement_for_f
    FOR
    /F
    "tokens=1*"
    for_parameter
      %%
      i
    IN
    (
    for_range_command	'MyCommand.exe'
    )
    DO
    command_call_label
      CALL
      label
        :
        SUBROUTINE
      %%i %%j %%k %%l %%m %%n
  statement_for_f
    for
    /f
    for_parameter
      %%
      p
    in
    (
    for_range_filename	%FILEPATH%
    )
    do
    command_call_label
      CALL
      label
        :
        SUBROUTINE
      %%p
  emptyline	
  statement_for_f
    FOR
    /F
    "delims= "
    for_parameter
      %%
      i
    IN
    (
    for_range_text	"1 2 3"
    )
    DO
    group
      (
      subprogram
        statement_for_f
          FOR
          /F
          "delims= "
          for_parameter
            %%
            i
          IN
          (
          for_range_text	"4 5 6"
          )
          DO
          group
            (
            subprogram
              command_echo
                echo
                %%i %%j
            )
      )
  emptyline	
  statement_for_f
    FOR
    /F
    "delims= "
    for_parameter
      %%
      i
    IN
    (
    for_range_text	"1 2 3"
    )
    DO
    statement_for_f
      FOR
      /F
      "delims= "
      for_parameter
        %%
        i
      IN
      (
      for_range_text	"4 5 6"
      )
      DO
      command_echo
        echo
        %%i %%j
  emptyline	
  command_echo
    ECHO
    ---------- TEST TEXT ----------
  command_oneline
    command_echo
      ECHO
      ---------- TEST TEXT ---------- 
    redirect_stdout
      >>
      %USL_JRNL%
  emptyline	
  command_line
    command_echo
      echo
      123 
    &&
    command_echo
      echo
      456 
    ||
    command_echo
      echo
      789
  emptyline	
  pipeline
    command_echo
      echo
      aaa 
    |
    command_echo
      echo
      bbb
  emptyline
